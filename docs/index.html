<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hoverable HTML Table for Displaying Intermediary Code Results (Pipes)  • codehover</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Hoverable HTML Table for Displaying Intermediary Code Results (Pipes) ">
<meta property="og:description" content="Pipes are an excellent way to code for they make it easy to follow the code chain of transformations and theis results. 
    The codehover aims to make it easy to create a HTML table with a simple hover effect (JQuery + CSS) that shows images just bellow this table.
    This way one could set up lines of pseudo-code in a table and a series of images showing the intermediary results of said code.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">codehover</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/codehover_intro.html">Codehover intro</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/arthurwelle/codehover/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div id="codehover-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#codehover-" class="anchor"></a>codehover <img src="HexSticker/HexSticker.png" align="right" width="250">
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>Pipes are an excellent way to code. They make it easy to follow the code chain of transformations and their results.</p>
<p>The codehover aims to make it easy to create a HTML table with a simple hover effect (JavaScript/JQuery + CSS) that shows images just bellow the said table.</p>
<p>This way one could set up pseudo-lines of code (show as text) in the table and a series of images showing the intermediate results of the code with a hovering interaction.</p>
<p>The package use is educational, a fast way of showing code actions.</p>
<p>I have to say that I begin with the ideia of the package without knowing about a simillar package based on <a href="https://github.com/yihui/xaringan">Xaringan</a>: <a href="https://github.com/EvaMaeRey/flipbookr">flipbookr</a>. In fact, I guess it was in my subconscious all along, for I follow Gina Reynolds work on <a href="https://twitter.com/EvaMaeRey">Twitter</a> for a long time. She made a wonderful job there, way more sophisticated than I even hope to implement here. codehover is aimed at a HTML page (through <a href="https://rmarkdown.rstudio.com/">RMarkdown</a>), with hover effect . By virtue of those simple differences I will keep the package online (until she implements the same functionality on flipbookr - granted that she already shows how to embed xaringan presentation into HTML(<a hred="https://evangelinereynolds.netlify.app/post/embedding-flipbook-mini-in-html-document/">here</a>)).</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the experimental version of codehover from github:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"arthurwelle/codehover"</span><span class="op">)</span></code></pre></div>
<p>After installation a new <a href="https://rstudio.github.io/rstudio-extensions/rmarkdown_templates.html">RMarkdown Template</a> shoud be available for you (File -&gt; New File -&gt; R Markdown -&gt; From Template -&gt; codehover). You should use this RMarkdown template in order to work with codehover because it loads the JavaScript/JQuery and the CSS necessary for its tasks.</p>
<p>Most of the times, as happnes with all new templates, after installation the template won’t show up in the menu right away. If this is the case, restart RStudio, it should come up then.</p>
<p>Every time you create a new codehover RMarkdown from template a folder will be created with the CSS and JavaScript files inside. They are needed to run the codehover properly, but once you have your final knitted file the CSS and the JavaScript will be attached to the HTML file, thus becoming self-contained.</p>
</div>
</div>
<div id="workflow-example" class="section level1">
<h1 class="hasAnchor">
<a href="#workflow-example" class="anchor"></a>Workflow example</h1>
<p>Let´s try to replicate the following graph (code and intermediate steps).</p>
<p>```{r, eval=TRUE, echo=TRUE} ggplot() + geom_point(data = cars, aes(x = speed, y = dist, color = ‘red’)) + scale_y_continuous(limits = c(0,100)) + labs(title = ‘A ggplot fot the rest of us’, subtitle = ‘Testing a way of explicit showing the R workflow’) + theme_bw()</p>
<pre><code>
Save every step as an image.

```{r, eval=FALSE, echo=TRUE}
g &lt;- ggplot2::ggplot() +
  geom_point(data = cars,
             aes(x = speed, 
                 y = dist))

ggplot2::ggsave("./IMG/1b.png", width = 4, height = 3) 

g &lt;-  g + aes(color = "red")
ggplot2::ggsave("./IMG/2b.png", width = 4, height = 3) 

g &lt;-  g + scale_y_continuous(limits = c(0,100))
ggplot2::ggsave("./IMG/3b.png", width = 4, height = 3) 

g &lt;-  g + labs(title = "A ggplot fot the rest of us")
ggplot2::ggsave("./IMG/4b.png", width = 4, height = 3) 

g &lt;-  g + labs(subtitle = "Testing a way of explicit showing the R workflow")
ggplot2::ggsave("./IMG/5b.png", width = 4, height = 3) 

g &lt;-  g + theme_bw()
ggplot2::ggsave("./IMG/6b.png", width = 4, height = 3) 
</code></pre>
<p>codehover has three functions that should be used together in a pipe-like style: <code><a href="reference/ch_int.html">ch_int()</a></code>, <code><a href="reference/ch_row.html">ch_row()</a></code>, and <code><a href="reference/ch_out.html">ch_out()</a></code>.</p>
<p><code><a href="reference/ch_int.html">ch_int()</a></code> initiates the HTML table, one can choose if the hover effect will be incremental or for a single row of the table. You can pass a custom CSS class for the whole table here as well.</p>
<p>After that you can use multiple <code>ch_row</code> calls to make as many rows as you like in the HTML table. For every line you should pass a <em>text</em> (the pseudo code you want to show) and an image. By default codehover uses <a href="https://yihui.org/knitr/">knitr</a> to encode the image file as a base64 string, with that your final HTML is self-contain in just one file (the images would be inside it). With multiple images this can increase file size considerable, so it´s optional to pass an url (with url = TRUE) if you dont want the behavior of embeding images. This way you can host your images anywhere.</p>
<p>Note that the code (the pseudo-code as text) use some &lt;tabs&gt; and &amp;nbsp; for indentation of the final text displayed. See more of that bellow.</p>
<p>Finally you show close the table with the function <code>ch_out</code>. Here you can indicate another image to be show before any hover interaction, as well as to pass another CSS class to the image holder to control its size and placement in the page.</p>
<p>With these three codehover functions you create an object (in fact just a text string) that <code>htmltool::HMTL()</code> function can inject in the HTML page.</p>
<p>```{r, echo=TRUE}</p>
<p>result &lt;- ch_int(type = “incremental”) %&gt;% ch_row(text = “ggplot() + <br><tab1> geom_point(data = cars, </tab1><br><tab2> aes(x = speed, </tab2><br><tab2>     y = dist, </tab2>”, img =“./IMG/1b.png”) %&gt;% ch_row(text = “<tab2> color = ‘red’)) + </tab2>”, img =“./IMG/2b.png”) %&gt;%<br>
ch_row(text = “<tab1> scale_y_continuous(limits = c(0,100)) + </tab1>”, img =“./IMG/3b.png”) %&gt;% ch_row(text = “<tab1> labs(title = ‘A ggplot fot the rest of us’, </tab1>”, img =“./IMG/4b.png”) %&gt;%<br>
ch_row(text = “<tab2> subtitle = ‘Testing a way of explicit showing the R workflow’) + </tab2>”, img =“./IMG/5b.png”) %&gt;% ch_row(text = “<tab1> theme_bw()</tab1>”, img =“./IMG/6b.png”) %&gt;% ch_out(img = “./IMG/1b.png”)</p>
<pre><code>
Finally call the created object into the HTML using &lt;a href="https://github.com/rstudio/htmltools"&gt;htmltool::HMTL()&lt;/a&gt;.


```{r, echo=TRUE}
htmltools::HTML(result)</code></pre>
<p><img src="Example.gif"></p>
</div>
<div id="writing-style-bits-and-quirks" class="section level1">
<h1 class="hasAnchor">
<a href="#writing-style-bits-and-quirks" class="anchor"></a>Writing style (bits and quirks)</h1>
<div id="quotes" class="section level2">
<h2 class="hasAnchor">
<a href="#quotes" class="anchor"></a>Quotes</h2>
<p>From <a href="https://stat.ethz.ch/R-manual/R-patched/library/base/html/Quotes.html">Quotes</a> we see than “<em>single quotes are normally only used to delimit character constants containing double quotes</em>”. This is the exactlly use here, we have to use single quotes in the R code that we want to pass as text for the HTML table.</p>
<p>For exemple, if we want to pass a ggplot2 title we could interchangebly use labs(title = “A Title”) or labs(title = ‘A Title’), but if we want to pass this as text to codehover we should use single quotes.</p>
<p>ch_row(text = “labs(title = ‘A Title’)”)</p>
</div>
<div id="indentation" class="section level2">
<h2 class="hasAnchor">
<a href="#indentation" class="anchor"></a>Indentation</h2>
<p>You can use the &lt;br&gt; tag to initiate new lines.</p>
<p>And to proper indent your text, as you would like to do to a code, you can use the HTML non-breaking spaces.</p>
<p>&amp;nbsp; a single non-breaking space;</p>
<p>&amp;ensp; = it is equal to two &amp;nbsp;</p>
<p>&amp;emsp; = it is equal to four &amp;nbsp;</p>
<p>Alternatively the codehover CSS has the tags &lt;tab1&gt; to &lt;tab16&gt; to denote 1 to 16 tabs (each tab is 4 spaces). To use it you have to enclose the text in those tags. For example:</p>
<p>ch_row(text = “&lt;tab7&gt;theme_bw()&lt;/tab7&gt;”)</p>
</div>
</div>
<div id="jqueryjavascript" class="section level1">
<h1 class="hasAnchor">
<a href="#jqueryjavascript" class="anchor"></a>JQuery/Javascript</h1>
<p>For reference here is the JavaScript/JQuery code for the hover effects (incremental and single row).</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script src<span class="op">=</span><span class="st">"https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"</span><span class="op">&gt;&lt;/</span>script<span class="op">&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script<span class="op">&gt;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">$</span>(<span class="st">'.pipehover_incremental tr'</span>)<span class="op">.</span><span class="fu">hover</span>(<span class="kw">function</span>() {</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">$</span>(<span class="kw">this</span>)<span class="op">.</span><span class="fu">removeClass</span>()</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">$</span>(<span class="kw">this</span>)<span class="op">.</span><span class="fu">prevAll</span>()<span class="op">.</span><span class="fu">removeClass</span>()</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">$</span>(<span class="kw">this</span>)<span class="op">.</span><span class="fu">nextAll</span>()<span class="op">.</span><span class="fu">removeClass</span>()</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">$</span>(<span class="kw">this</span>)<span class="op">.</span><span class="fu">addClass</span>(<span class="st">'hover'</span>)<span class="op">;</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">$</span>(<span class="kw">this</span>)<span class="op">.</span><span class="fu">prevAll</span>()<span class="op">.</span><span class="fu">addClass</span>(<span class="st">'hover'</span>)<span class="op">;</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">$</span>(<span class="kw">this</span>)<span class="op">.</span><span class="fu">closest</span>(<span class="st">'div'</span>)<span class="op">.</span><span class="fu">next</span>()<span class="op">.</span><span class="fu">find</span>(<span class="st">'img'</span>)<span class="op">.</span><span class="fu">attr</span>(<span class="st">"src"</span><span class="op">,</span> <span class="fu">$</span>(<span class="kw">this</span>)<span class="op">.</span><span class="fu">attr</span>(<span class="st">"link"</span>))<span class="op">;</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="fu">$</span>(<span class="st">'.pipehover_select_one_row tr'</span>)<span class="op">.</span><span class="fu">hover</span>(<span class="kw">function</span>() {</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">$</span>(<span class="kw">this</span>)<span class="op">.</span><span class="fu">removeClass</span>()</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">$</span>(<span class="kw">this</span>)<span class="op">.</span><span class="fu">prevAll</span>()<span class="op">.</span><span class="fu">removeClass</span>()</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">$</span>(<span class="kw">this</span>)<span class="op">.</span><span class="fu">nextAll</span>()<span class="op">.</span><span class="fu">removeClass</span>()</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">$</span>(<span class="kw">this</span>)<span class="op">.</span><span class="fu">addClass</span>(<span class="st">'hover'</span>)<span class="op">;</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">$</span>(<span class="kw">this</span>)<span class="op">.</span><span class="fu">closest</span>(<span class="st">'div'</span>)<span class="op">.</span><span class="fu">next</span>()<span class="op">.</span><span class="fu">find</span>(<span class="st">'img'</span>)<span class="op">.</span><span class="fu">attr</span>(<span class="st">"src"</span><span class="op">,</span> <span class="fu">$</span>(<span class="kw">this</span>)<span class="op">.</span><span class="fu">attr</span>(<span class="st">"link"</span>))<span class="op">;</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>script<span class="op">&gt;</span></span></code></pre></div>
</div>
<div id="reference" class="section level1">
<h1 class="hasAnchor">
<a href="#reference" class="anchor"></a>Reference</h1>
<p>The codehover hex sticker was made using the R package <a href="https://github.com/GuangchuangYu/hexSticker">hexSticker</a>.</p>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/arthurwelle/codehover/">https://​github.com/​arthurwelle/​codehover/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/arthurwelle/codehover/issues">https://​github.com/​arthurwelle/​codehover/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Arthur Welle <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Arthur Welle.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
